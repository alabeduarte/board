(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1046:function(t,e,n){},1258:function(t,e,n){n(1257),t.exports=n(464)},464:function(t,e,n){"use strict";n.r(e);n(1252);var r=n(2),o=n.n(r),a=n(57),i=n.n(a),c=(n(1046),n(1044),n(130)),u=n(1262),s=n.n(u),f=n(457),l=n(1261),p=n(1259),h=n(462),y=n(1268),m=n.n(y),d=n(1260),b=n(176),v=n.n(b);function w(t){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==w(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var k=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return x(r,(n=r=x(this,(t=S(e)).call.apply(t,[this].concat(a))),r.state={},r.handleCreate=function(){r.setState({created:v()()})},n))}var n,r,a;return n=e,(r=[{key:"render",value:function(){return this.state.created?o.a.createElement(d.a,{to:{pathname:"/board/".concat(this.state.created)}}):o.a.createElement("div",null,o.a.createElement(m.a,{variant:"raised",color:"primary",onClick:this.handleCreate},"New board"))}}])&&E(n.prototype,r),a&&E(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");g(t.prototype,e&&e.prototype),e&&g(t,e)}(e,t),e}(o.a.Component),O=n(39),P=n.n(O),_=n(1267),j=n.n(_),C=n(1265),T=n.n(C),A=n(1264),N=n.n(A),M=n(458),W=n.n(M),B=n(1266),R=n.n(B),D=n(1263),I=n.n(D),L=function(){var t=new window.Ipfs({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star"]}}});return new Promise(function(e){t.once("ready",function(){return e(t)})})},J=n(460),q=n.n(J),G=n(459),H=n.n(G);function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){U(t,e,n[e])})}return t}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t,e){try{var n=a[t](e),i=n.value}catch(t){return void o(t)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(t){i("next",t)}function u(t){i("throw",t)}c()})}}var X,$=(X=V(P.a.mark(function t(e,n){var r,o,a,i,c,u;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new H.a(n),o={write:["*"]},t.next=4,r.docs(e,o);case 4:return a=t.sent,i=function(){var t=V(P.a.mark(function t(){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.load();case 2:return t.abrupt("return",a.query(function(t){return t}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),c=new q.a.BehaviorSubject,t.t0=c,t.next=10,i();case 10:return t.t1=t.sent,t.t0.next.call(t.t0,t.t1),a.events.on("replicated",V(P.a.mark(function t(){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,i();case 3:t.t1=t.sent,t.t0.next.call(t.t0,t.t1);case 5:case"end":return t.stop()}},t,this)}))),u=function(){var t=V(P.a.mark(function t(e){var n,r;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._id||v()(),t.next=3,a.put(Q({},e,{_id:n}));case 3:return r=t.sent,t.t0=c,t.next=7,i();case 7:return t.t1=t.sent,t.t0.next.call(t.t0,t.t1),t.abrupt("return",r);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",{posts:c,add:u});case 15:case"end":return t.stop()}},t,this)})),function(t,e){return X.apply(this,arguments)});function z(t){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t,e){try{var n=a[t](e),i=n.value}catch(t){return void o(t)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(t){i("next",t)}function u(t){i("throw",t)}c()})}}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==z(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var et=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return Z(r,(n=r=Z(this,(t=tt(e)).call.apply(t,[this].concat(a))),r.state={posts:[],post:{text:""}},r.handleChange=function(t){var e={text:t.target.value};r.setState({post:e})},r.resetPost=function(){r.setState({post:{text:""}})},r.handleSubmit=function(){var t=F(P.a.mark(function t(e){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,r.service.add(r.state.post);case 3:r.resetPost();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n))}var n,r,a,i;return n=e,(r=[{key:"componentDidMount",value:function(){this.loadPosts()}},{key:"loadPosts",value:(i=F(P.a.mark(function t(){var e,n,r=this;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.hash,t.next=3,L();case 3:return n=t.sent,t.next=6,$(e,n);case 6:this.service=t.sent,this.service.posts.subscribe(function(t){r.setState({posts:t})});case 8:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var t=this.props.classes;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},o.a.createElement(j.a,{id:"post",label:"Post",value:this.state.post.text,onChange:this.handleChange,margin:"normal"})),o.a.createElement(W.a,{className:t.list},this.state.posts.map(function(e){return o.a.createElement(R.a,{key:e._id},o.a.createElement(T.a,{className:t.card},o.a.createElement(N.a,null,o.a.createElement(I.a,null,e.text))))})))}}])&&Y(n.prototype,r),a&&Y(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");K(t.prototype,e&&e.prototype),e&&K(t,e)}(e,t),e}(o.a.Component),nt=Object(c.withStyles)({list:{maxWidth:"400px"},card:{minHeight:"80px",width:"100%"}})(et),rt=function(){return o.a.createElement(l.a,null,o.a.createElement(p.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:k}),o.a.createElement(h.a,{path:"/board/:hash",component:function(t){return o.a.createElement(nt,Object.assign({key:Object(f.a)(["match","params","hash"],t)},t))}})))},ot=n(177),at=n.n(ot);n(467);function it(t){return(it="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return!e||"object"!==it(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ft(t){return(ft=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var lt="linear-gradient(45deg, ".concat(at.a.A700," 30%, ").concat(at.a[500]," 90%)"),pt=Object(c.createMuiTheme)({palette:{primary:{main:at.a.A700}},overrides:{MuiAppBar:{colorPrimary:{background:lt}},MuiButton:{raisedPrimary:{background:lt}}}}),ht=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),st(this,ft(e).apply(this,arguments))}var n,r,a;return n=e,(r=[{key:"render",value:function(){var t=this.props.classes;return o.a.createElement(c.MuiThemeProvider,{theme:pt},o.a.createElement("div",{className:t.root},o.a.createElement(s.a,null),o.a.createElement(rt,null)))}}])&&ut(n.prototype,r),a&&ut(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");ct(t.prototype,e&&e.prototype),e&&ct(t,e)}(e,t),e}(r.Component),yt=Object(c.withStyles)({root:{flexGrow:1}})(ht),mt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function dt(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}i.a.render(o.a.createElement(yt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/board",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/board","/service-worker.js");mt?(function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):dt(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):dt(t)})}}()},467:function(t,e,n){},565:function(t,e){},567:function(t,e){},607:function(t,e){},619:function(t,e){},621:function(t,e){}},[[1258,0,1]]]);
//# sourceMappingURL=main.f9be7d13.chunk.js.map